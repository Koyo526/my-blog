## システム設計

あなたの役割: あなたは熟練したソフトウェアアーキテクトです。以下のタスクセクションに記載されている仕様からシステムの設計を考えて下さい。


作業の計画を立て、aidlc-docs/inception/task_plan.md ファイルにステップを記載してください。各ステップにチェックボックスを付けてください。いずれかのステップで私の説明が必要な場合は、[Question] タグを付けて質問を追加し、私が回答を記入するための空の [Answer] タグを作成してください。独自の判断や決定は行わないでください。計画を作成したら、私のレビューと承認を求めてください。承認後、その計画を 1 ステップずつ実行できます。各ステップが完了したら、計画のチェックボックスに完了マークを付けてください。また、作業内容のレビューを求めてください。


あなたのタスク:下記の要件のweb開発を行います。この要件を満たすシステム設計について考えて下さい。
# ① 要件（プロダクト要件・非機能要件）
## 目的
- ポートフォリオを主軸とした個人Webサイト
- 記事は「技術力・思考力・設計力」を示す資産
- 採用評価で見られることを強く意識する

## 想定読者
- 20代後半の同世代エンジニア
- 採用担当・技術リード（ポートフォリオ閲覧者）

## 運用方針
- 完全に自分運用
- 更新頻度は不定期
- 記事数よりも 1記事・1プロジェクトの密度を重視
- 運用コスト・認知負荷は最小化する

## コンテンツ要件
- ポートフォリオ
- プロジェクトを最優先で見せる
- 各プロジェクトは以下を明確にする
    - 課題 / 背景
    - 技術選定・設計判断（Why）
    - 難所と解決
    - 成果・学び・改善案

- ブログ記事
- 技術記事（設計・AWS・バックエンド等）
- Markdown/MDXで管理
- 下書き（非公開）管理が可能

## 画面・UX要件
- Home は ポートフォリオ主役
- 採用向けに カードUI＋軽いアニメーション
- モダン・落ち着いたデザイン
- 記事・プロジェクトともに読みやすさ重視

## 多言語対応
- 日本語 / 英語 両対応
- URLで言語を明確に分離
    - /ja/...
    - /en/...
- ブラウザ言語で自動リダイレクト
- 日本語・英語の記事は 完全一致でなくてOK

## コメント
- 将来的に追加
- 初期リリースには含めない（後付け可能な設計）

## 非機能要件

- 高速表示（静的生成）
- SEO 基本対応（URL分離 / OGP / sitemap想定）
- 運用が壊れにくい構成
- ホスティング・運用コストを最小化

# ② 技術的仕様（設計・実装方針）
## 技術スタック

| 領域      | 採用技術                    |
| ------- | ----------------------- |
| フレームワーク | **Next.js（App Router）** |
| ホスティング  | **Vercel**              |
| コンテンツ管理 | **MDX（Git管理）**          |
| スタイリング  | **Tailwind CSS**        |
| アニメーション | **Framer Motion**       |
| コメント    | 後で **Giscus** 追加予定      |
| i18n    | URL分離（`/ja` `/en`）      |


## ルーティング設計（App Router）
- / → middleware により /ja or /en に自動リダイレクト

- /{lang} → Home（ポートフォリオ主役）

- /{lang}/projects → プロジェクト一覧

- /{lang}/projects/[slug] → プロジェクト詳細（MDX）

- /{lang}/blog → 記事一覧

- /{lang}/blog/[slug] → 記事詳細（MDX）

- /{lang}/about

- /{lang}/contact
※ [lang] / [slug] は 動的ルート用ディレクトリ名
※ ja / en / slug名 のフォルダは作らない


## 多言語制御
- middleware.ts で以下の順に言語決定
    - lang cookie
    - Accept-Language ヘッダ
    - fallback（en）
- 選択言語は cookie に保存
- 手動切替UIあり（cookie更新）



## MDX管理方針
- ファイル名 = slug
- 言語ごとにディレクトリ分離
- Frontmatter に以下を定義
    - 記事：title, date, tags, summary, lang, draft
    - プロジェクト：name, tech, role, highlights, links
- draft: true は本番ビルドから除外


## ビルド・デプロイ
- GitHub に push
- Vercel が自動ビルド & デプロイ
- PRごとに Preview URL 発行
- main merge で本番反映
- 完全静的生成（SSG）
